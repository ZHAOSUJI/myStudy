保证数据库和缓存数据一致性:

不一致原因:在数据库写操作后时,缓存没有变化,导致用户命中缓存时查询
数据和数据库不一致

一般解决:
写操作的时候更新缓存或者删除缓存

是更新缓存还是淘汰缓存
主要看更新操作代价,如果更新缓存代价或复杂度低的话,选择更新缓存,
否则淘汰缓存。一般来讲都是淘汰缓存,因为淘汰缓存代价很小,并且只会
产生一次缓存miss

是先操作数据库还是先操作缓存(非原子性操作)

如果先操作数据库,再操作缓存:如果数据库操作成功,缓存操作失败.
会导致用户读取数据和数据库不一致

如果先淘汰缓存,再写数据库:如果缓存淘汰成功,但是数据库操作失败,
只会引起一次缓存miss,数据库和缓存依然一致
